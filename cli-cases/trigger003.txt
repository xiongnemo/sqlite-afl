.open --hexdb
| size 16384 pagesize 4096 filename trigger003.txt.db
| page 1 offset 0
|      0: 53 51 4c 69 74 65 20 66 6f 72 6d 61 74 20 33 00   SQLite format 3.
|     16: 10 00 01 01 00 40 20 20 00 00 00 00 00 00 00 04   .....@  ........
|     32: 00 00 00 00 00 00 00 00 00 00 00 09 00 00 00 04   ................
|     48: 00 00 00 00 00 00 00 00 00 00 00 01 00 00 00 00   ................
|     96: 00 00 00 00 0d 00 00 00 09 0d 07 00 0f d8 0f 8a   ................
|    112: 0f 53 0e cf 0e 4b 0d c4 0d 93 0d 5e 0d 07 00 00   .S...K.....^....
|   3328: 00 00 00 00 00 00 00 55 09 07 1b 17 11 08 81 0d   .......U........
|   3344: 74 72 69 67 67 65 72 74 72 69 67 31 76 33 43 52   triggertrig1v3CR
|   3360: 45 41 54 45 20 54 52 49 47 47 45 52 20 74 72 69   EATE TRIGGER tri
|   3376: 67 31 20 49 4e 53 54 45 41 44 20 4f 46 20 44 45   g1 INSTEAD OF DE
|   3392: 4c 45 54 45 20 4f 4e 20 76 33 20 42 45 47 49 4e   LETE ON v3 BEGIN
|   3408: 0a 53 45 4c 45 43 54 20 31 3b 0a 45 4e 44 33 08   .SELECT 1;.END3.
|   3424: 06 15 11 11 08 57 76 69 65 77 76 33 76 33 43 52   .....Wviewv3v3CR
|   3440: 45 41 54 45 20 56 49 45 57 20 76 33 20 41 53 20   EATE VIEW v3 AS 
|   3456: 53 45 4c 45 43 54 20 74 33 2e 61 20 46 52 4f 4d   SELECT t3.a FROM
|   3472: 20 74 33 2f 07 06 17 11 11 01 4b 74 61 62 6c 65    t3/......Ktable
|   3488: 74 33 74 33 04 43 52 45 41 54 45 20 54 41 42 4c   t3t3.CREATE TABL
|   3504: 45 20 74 33 28 61 20 54 45 58 54 2c 20 62 20 54   E t3(a TEXT, b T
|   3520: 45 58 54 29 81 04 06 07 1b 11 11 08 81 71 74 72   EXT).........qtr
|   3536: 69 67 67 65 72 72 33 76 31 43 52 45 41 54 45 20   iggerr3v1CREATE 
|   3552: 54 52 49 47 47 45 52 20 72 33 20 49 4e 53 54 45   TRIGGER r3 INSTE
|   3568: 41 44 20 4f 46 20 55 50 44 41 54 45 20 4f 4e 20   AD OF UPDATE ON 
|   3584: 76 31 20 42 45 47 49 4e 0a 49 4e 53 45 52 54 20   v1 BEGIN.INSERT 
|   3600: 49 4e 54 4f 20 76 31 6c 6f 67 20 56 41 4c 55 45   INTO v1log VALUE
|   3616: 53 28 4f 4c 44 2e 78 2c 4e 45 57 2e 78 2c 4f 4c   S(OLD.x,NEW.x,OL
|   3632: 44 2e 79 2c 4e 45 57 2e 79 2c 4f 4c 44 2e 7a 2c   D.y,NEW.y,OLD.z,
|   3648: 4e 45 57 2e 7a 29 3b 0a 45 4e 44 81 01 05 07 1b   NEW.z);.END.....
|   3664: 11 11 08 81 6b 74 72 69 67 67 65 72 72 32 76 31   ....ktriggerr2v1
|   3680: 43 52 45 41 54 45 20 54 52 49 47 47 45 52 20 72   CREATE TRIGGER r
|   3696: 32 20 49 4e 53 54 45 41 44 20 4f 46 20 49 4e 53   2 INSTEAD OF INS
|   3712: 45 52 54 20 4f 4e 20 76 31 20 42 45 47 49 4e 0a   ERT ON v1 BEGIN.
|   3728: 49 4e 53 45 52 54 20 49 4e 54 4f 20 76 31 6c 6f   INSERT INTO v1lo
|   3744: 67 20 56 41 4c 55 45 53 28 4e 55 4c 4c 2c 4e 45   g VALUES(NULL,NE
|   3760: 57 2e 78 2c 4e 55 4c 4c 2c 4e 45 57 2e 79 2c 4e   W.x,NULL,NEW.y,N
|   3776: 55 4c 4c 2c 4e 45 57 2e 7a 29 3b 0a 45 4e 44 81   ULL,NEW.z);.END.
|   3792: 01 04 07 1b 11 11 08 81 6b 74 72 69 67 67 65 72   ........ktrigger
|   3808: 72 31 76 31 43 52 45 41 54 45 20 54 52 49 47 47   r1v1CREATE TRIGG
|   3824: 45 52 20 72 31 20 49 4e 53 54 45 41 44 20 4f 46   ER r1 INSTEAD OF
|   3840: 20 44 45 4c 45 54 45 20 4f 4e 20 76 31 20 42 45    DELETE ON v1 BE
|   3856: 47 49 4e 0a 49 4e 53 45 52 54 20 49 4e 54 4f 20   GIN.INSERT INTO 
|   3872: 76 31 6c 6f 67 20 56 41 4c 55 45 53 28 4f 4c 44   v1log VALUES(OLD
|   3888: 2e 78 2c 4e 55 4c 4c 2c 4f 4c 44 2e 79 2c 4e 55   .x,NULL,OLD.y,NU
|   3904: 4c 4c 2c 4f 4c 44 2e 7a 2c 4e 55 4c 4c 29 3b 0a   LL,OLD.z,NULL);.
|   3920: 45 4e 44 35 03 06 17 17 17 01 4b 74 61 62 6c 65   END5......Ktable
|   3936: 76 31 6c 6f 67 76 31 6c 6f 67 03 43 52 45 41 54   v1logv1log.CREAT
|   3952: 45 20 54 41 42 4c 45 20 76 31 6c 6f 67 28 61 2c   E TABLE v1log(a,
|   3968: 62 2c 63 2c 64 2c 65 2c 66 29 4c 02 07 15 11 11   b,c,d,e,f)L.....
|   3984: 08 81 07 76 69 65 77 76 31 76 31 43 52 45 41 54   ...viewv1v1CREAT
|   4000: 45 20 56 49 45 57 20 76 31 20 41 53 0a 53 45 4c   E VIEW v1 AS.SEL
|   4016: 45 43 54 20 61 2b 62 20 41 53 20 78 2c 20 62 2b   ECT a+b AS x, b+
|   4032: 63 20 41 53 20 79 2c 20 61 2b 63 20 41 53 20 7a   c AS y, a+c AS z
|   4048: 20 46 52 4f 4d 20 74 31 26 01 06 17 11 11 01 39    FROM t1&......9
|   4064: 74 61 62 6c 65 74 31 74 31 02 43 52 45 41 54 45   tablet1t1.CREATE
|   4080: 20 54 41 42 4c 45 20 74 31 28 61 2c 62 2c 63 29    TABLE t1(a,b,c)
| page 2 offset 4096
|      0: 0d 00 00 00 02 0f ef 00 0f f8 0f ef 00 00 00 00   ................
|   4064: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 07   ................
|   4080: 02 04 01 01 01 04 05 06 06 01 04 09 01 01 02 03   ................
| page 3 offset 8192
|      0: 0d 00 00 00 00 10 00 00 00 00 00 00 00 00 00 00   ................
| page 4 offset 12288
|      0: 0d 00 00 00 00 10 00 00 00 00 00 00 00 00 00 00   ................
| end trigger003.txt.db
.testctrl prng_seed 1 db
.testctrl internal_functions
DELETE FROM v1 WHERE x=1;
INSERT INTO v1 VALUES(1,2,3);
UPDATE v1 SET x=x+100, y=y+200, z=z+300;
DELETE FROM v3 WHERE a = 1;

