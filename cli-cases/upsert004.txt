.open --hexdb
| size 40960 pagesize 4096 filename upsert004.txt.db
| page 1 offset 0
|      0: 53 51 4c 69 74 65 20 66 6f 72 6d 61 74 20 33 00   SQLite format 3.
|     16: 10 00 01 01 00 40 20 20 00 00 00 00 00 00 00 0a   .....@  ........
|     32: 00 00 00 00 00 00 00 00 00 00 00 08 00 00 00 04   ................
|     48: 00 00 00 00 00 00 00 00 00 00 00 01 00 00 00 00   ................
|     96: 00 00 00 00 0d 0f f8 00 09 0e 02 00 0f 8e 0f d3   ................
|    112: 0f 5b 0f 28 0e f5 0e 9b 0e 68 0e 35 0e 02 00 00   .[.(.....h.5....
|   3584: 00 00 31 09 06 17 13 11 01 4d 69 6e 64 65 78 74   ..1......Mindext
|   3600: 32 65 74 32 0a 43 52 45 41 54 45 20 55 4e 49 51   2et2.CREATE UNIQ
|   3616: 55 45 20 49 4e 44 45 58 20 74 32 65 20 4f 4e 20   UE INDEX t2e ON 
|   3632: 74 32 28 65 29 31 08 06 17 13 11 01 4d 69 6e 64   t2(e)1......Mind
|   3648: 65 78 74 32 64 74 32 09 43 52 45 41 54 45 20 55   ext2dt2.CREATE U
|   3664: 4e 49 51 55 45 20 49 4e 44 45 58 20 74 32 64 20   NIQUE INDEX t2d 
|   3680: 4f 4e 20 74 32 28 64 29 31 07 06 17 13 11 01 4d   ON t2(d)1......M
|   3696: 69 6e 64 65 78 74 32 63 74 32 08 43 52 45 41 54   indext2ct2.CREAT
|   3712: 45 20 55 4e 49 51 55 45 20 49 4e 44 45 58 20 74   E UNIQUE INDEX t
|   3728: 32 63 20 4f 4e 20 74 32 28 63 29 58 06 07 17 11   2c ON t2(c)X....
|   3744: 11 01 81 1b 74 61 62 6c 65 74 32 74 32 07 43 52   ....tablet2t2.CR
|   3760: 45 41 54 45 20 54 41 42 4c 45 20 74 32 28 61 20   EATE TABLE t2(a 
|   3776: 49 4e 54 2c 20 62 2c 20 63 20 52 45 41 4c 2c 20   INT, b, c REAL, 
|   3792: 64 2c 20 65 2c 20 50 52 49 4d 41 52 59 20 4b 45   d, e, PRIMARY KE
|   3808: 59 28 61 2c 62 29 29 20 57 49 54 48 4f 55 54 20   Y(a,b)) WITHOUT 
|   3824: 52 4f 57 49 44 31 05 06 17 13 11 01 4d 69 6e 64   ROWID1......Mind
|   3840: 65 78 74 31 65 74 31 06 43 52 45 41 54 45 20 55   ext1et1.CREATE U
|   3856: 4e 49 51 55 45 20 49 4e 44 45 58 20 74 31 65 20   NIQUE INDEX t1e 
|   3872: 4f 4e 20 74 31 28 65 29 31 04 06 17 13 11 01 4d   ON t1(e)1......M
|   3888: 69 6e 64 65 78 74 31 64 74 31 05 43 52 45 41 54   indext1dt1.CREAT
|   3904: 45 20 55 4e 49 51 55 45 20 49 4e 44 45 58 20 74   E UNIQUE INDEX t
|   3920: 31 64 20 4f 4e 20 74 31 28 64 29 31 03 06 17 13   1d ON t1(d)1....
|   3936: 11 01 4d 69 6e 64 65 78 74 31 63 74 31 04 43 52   ..Mindext1ct1.CR
|   3952: 45 41 54 45 20 55 4e 49 51 55 45 20 49 4e 44 45   EATE UNIQUE INDE
|   3968: 58 20 74 31 63 20 4f 4e 20 74 31 28 63 29 43 01   X t1c ON t1(c)C.
|   3984: 06 17 11 11 01 73 74 61 62 6c 65 74 31 74 31 02   .....stablet1t1.
|   4000: 43 52 45 41 54 45 20 54 41 42 4c 45 20 74 31 28   CREATE TABLE t1(
|   4016: 61 20 49 4e 54 20 50 52 49 4d 41 52 59 20 4b 45   a INT PRIMARY KE
|   4032: 59 2c 20 62 2c 20 63 20 52 45 41 4c 2c 20 64 2c   Y, b, c REAL, d,
|   4048: 20 65 29 23 02 06 17 37 11 01 00 69 6e 64 65 78    e)#...7...index
|   4064: 73 71 6c 69 74 65 5f 61 75 74 6f 69 6e 64 65 78   sqlite_autoindex
|   4080: 5f 74 31 5f 31 74 31 03 00 00 00 08 00 00 00 00   _t1_1t1.........
| page 2 offset 4096
|      0: 0d 00 00 00 01 0f f4 00 0f f4 00 00 00 00 00 00   ................
|   4080: 00 00 00 00 0a 01 06 09 01 01 01 01 02 03 04 05   ................
| page 3 offset 8192
|      0: 0a 00 00 00 01 0f fc 00 0f fc 00 00 00 00 00 00   ................
|   4080: 00 00 00 00 00 00 00 00 00 00 00 00 03 03 09 09   ................
| page 4 offset 12288
|      0: 0a 00 00 00 01 0f fb 00 0f fb 00 00 00 00 00 00   ................
|   4080: 00 00 00 00 00 00 00 00 00 00 00 04 03 01 09 03   ................
| page 5 offset 16384
|      0: 0a 00 00 00 01 0f fb 00 0f fb 00 00 00 00 00 00   ................
|   4080: 00 00 00 00 00 00 00 00 00 00 00 04 03 01 09 04   ................
| page 6 offset 20480
|      0: 0a 00 00 00 01 0f fb 00 0f fb 00 00 00 00 00 00   ................
|   4080: 00 00 00 00 00 00 00 00 00 00 00 04 03 01 09 05   ................
| page 7 offset 24576
|      0: 0a 00 00 00 01 0f f5 00 0f f5 00 00 00 00 00 00   ................
|   4080: 00 00 00 00 00 0a 06 09 01 01 01 01 02 03 04 05   ................
| page 8 offset 28672
|      0: 0a 00 00 00 01 0f f9 00 0f f9 00 00 00 00 00 00   ................
|   4080: 00 00 00 00 00 00 00 00 00 06 04 01 09 01 03 02   ................
| page 9 offset 32768
|      0: 0a 00 00 00 01 0f f9 00 0f f9 00 00 00 00 00 00   ................
|   4080: 00 00 00 00 00 00 00 00 00 06 04 01 09 01 04 02   ................
| page 10 offset 36864
|      0: 0a 00 00 00 01 0f f9 00 0f f9 00 00 00 00 00 00   ................
|   4080: 00 00 00 00 00 00 00 00 00 06 04 01 09 01 05 02   ................
| end upsert004.txt.db
.testctrl prng_seed 1 db
.testctrl internal_functions
INSERT INTO t1(a,b,c,d,e) VALUES(1,NULL,93,94,95)
ON CONFLICT(c) DO UPDATE SET b='c'
ON CONFLICT(d) DO NOTHING
ON CONFLICT DO UPDATE set b='x';
DELETE FROM t1;
INSERT INTO t1(a,b,c,d,e) VALUES(1,2,3,4,5);
INSERT INTO t1(a,b,c,d,e) VALUES(91,NULL,93,94,5)
ON CONFLICT(c) DO NOTHING
ON CONFLICT(d) DO UPDATE SET b='d'
ON CONFLICT(a) DO NOTHING
ON CONFLICT DO UPDATE SET b='x';
INSERT INTO t2(a,b,c,d,e) VALUES(1,NULL,93,94,95)
ON CONFLICT(c) DO UPDATE SET b='c'
ON CONFLICT(d) DO NOTHING
ON CONFLICT DO UPDATE set b='x';
DELETE FROM t2;
INSERT INTO t2(a,b,c,d,e) VALUES(1,2,3,4,5);
INSERT INTO t2(a,b,c,d,e) VALUES(91,NULL,93,94,5)
ON CONFLICT(c) DO NOTHING
ON CONFLICT(d) DO UPDATE SET b='d'
ON CONFLICT(a,b) DO NOTHING
ON CONFLICT DO UPDATE SET b='x';

